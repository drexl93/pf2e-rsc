{"_id":"7pjDywKX5ZOd0QeK","name":"Lockpicking","permission":{"default":0,"TKPF0VhpkrvAyBOK":3},"type":"script","flags":{"furnace":{"runAsGM":false}},"scope":"global","command":"// Macro for the GM to run to set the DC and number of successes for the lock\r\n// Can pick from the set of published locks or create a custom one\r\n\r\nif (!token) {\r\n  ui.notifications.error(\"Please select a token.\")\r\n  return;\r\n}\r\n\r\nlet locks = {\r\n  poor: {DC: 15, successes: 2},\r\n  simple: {DC: 20, successes: 3},\r\n  average: {DC: 25, successes: 4},\r\n  good: {DC: 30, successes: 5},\r\n  superior: {DC: 40, successes: 6}\r\n}\r\n\r\nlet content = \"\";\r\nlet content2 = \"\";\r\n\r\ncontent += `<p><label for=\"preset\">Pick a preset: </label>\r\n<select name=\"preset\" id=\"preset\">\r\n  <option value=\"custom\">Custom</option>\r\n  <option value=\"poor\">Poor</option>\r\n  <option value=\"simple\">Simple</option>\r\n  <option value=\"average\">Average</option>\r\n  <option value=\"good\">Good</option>\r\n  <option value=\"superior\">Superior</option>\r\n</select>`\r\n\r\ncontent2 += `<form id=\"pf2e-lockpicking-gm_lockset-content2\"><p><label for=\"customDC\">DC: </label>\r\n<input type=\"text\" id=\"customDC\" name=\"customDC\"></p>\r\n\r\n<p><label for=\"successes\">Required Successes: </label>\r\n<input type=\"text\" id=\"successes\" name=\"successes\"></p></form>`\r\n\r\nlet dialog = new Dialog({\r\n  title: \"Lockpicking\",\r\n  content: content,\r\n  buttons: {\r\n    pick: {\r\n      icon: \"<i class='fas fa-check'></i>\",\r\n      label: \"Select\",\r\n      callback: (html) => {\r\n          let lock = (html.find('#preset')[0].value)\r\n          if (lock === \"custom\") {\r\n              customLock.options.width = 125\r\n              customLock.position.width = 125\r\n              customLock.render(true);\r\n          } else {\r\n              game.socket.emit('module.pf2e-lockpicking', {\r\n                  operation: 'playerLockpick',\r\n                  actor,\r\n                  neededSuccesses: locks[lock].successes,\r\n                  DC: locks[lock].DC \r\n              });\r\n          }\r\n      }\r\n    },\r\n  }\r\n})\r\ndialog.options.width = 125\r\ndialog.position.width = 125\r\ndialog.render(true);\r\n\r\nlet customLock = new Dialog({\r\n  title: \"Custom Lock\",\r\n  content: content2,\r\n  buttons: {\r\n    select: {\r\n      icon: \"<i class='fas fa-check'></i>\",\r\n      label: \"Select\",\r\n      callback: (html) => {\r\n          let neededSuccesses = parseInt(html.find('#successes')[0].value)\r\n          let DC = parseInt(html.find('#customDC')[0].value)\r\n          game.socket.emit('module.pf2e-lockpicking', {\r\n              operation: 'playerLockpick',\r\n              actor,\r\n              neededSuccesses,\r\n              DC\r\n          });\r\n      }\r\n    },\r\n  }\r\n})","author":"TKPF0VhpkrvAyBOK","img":"icons/svg/padlock.svg","actorIds":[]}
{"$$deleted":true,"_id":"7pjDywKX5ZOd0QeK"}
{"name":"Lockpicking","permission":{"default":0,"TKPF0VhpkrvAyBOK":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.9BF276uKtC2lXBtt"}},"scope":"global","command":"// Macro for the GM to run to set the DC and number of successes for the lock\n// Can pick from the set of published locks or create a custom one\n\nif (!token) {\n  ui.notifications.error(\"Please select a token.\")\n  return;\n}\n\nlet locks = {\n  poor: {DC: 15, successes: 2},\n  simple: {DC: 20, successes: 3},\n  average: {DC: 25, successes: 4},\n  good: {DC: 30, successes: 5},\n  superior: {DC: 40, successes: 6}\n}\n\nlet content = \"\";\nlet content2 = \"\";\n\ncontent += `<p><label for=\"preset\">Pick a preset: </label>\n<select name=\"preset\" id=\"preset\">\n  <option value=\"custom\">Custom</option>\n  <option value=\"poor\">Poor</option>\n  <option value=\"simple\">Simple</option>\n  <option value=\"average\">Average</option>\n  <option value=\"good\">Good</option>\n  <option value=\"superior\">Superior</option>\n</select>`\n\ncontent2 += `<form id=\"pf2e-lockpicking-gm_lockset-content2\"><p><label for=\"customDC\">DC: </label>\n<input type=\"text\" id=\"customDC\" name=\"customDC\"></p>\n\n<p><label for=\"successes\">Required Successes: </label>\n<input type=\"text\" id=\"successes\" name=\"successes\"></p></form>`\n\nlet dialog = new Dialog({\n  title: \"Lockpicking\",\n  content: content,\n  buttons: {\n    pick: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: \"Select\",\n      callback: (html) => {\n          let lock = (html.find('#preset')[0].value)\n          if (lock === \"custom\") {\n              customLock.options.width = 125\n              customLock.position.width = 125\n              customLock.render(true);\n          } else {\n              game.socket.emit('module.pf2e-lockpicking', {\n                  operation: 'playerLockpick',\n                  actor,\n                  neededSuccesses: locks[lock].successes,\n                  DC: locks[lock].DC, \n                  mod: actor.data.data.skills.thi.value\n              });\n          }\n      }\n    },\n  }\n})\ndialog.options.width = 125\ndialog.position.width = 125\ndialog.render(true);\n\nlet customLock = new Dialog({\n  title: \"Custom Lock\",\n  content: content2,\n  buttons: {\n    select: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: \"Select\",\n      callback: (html) => {\n          let neededSuccesses = parseInt(html.find('#successes')[0].value)\n          let DC = parseInt(html.find('#customDC')[0].value)\n          game.socket.emit('module.pf2e-lockpicking', {\n              operation: 'playerLockpick',\n              actor,\n              neededSuccesses,\n              DC,\n              mod: actor.data.data.skills.thi.value\n          });\n      }\n    },\n  }\n})","author":"TKPF0VhpkrvAyBOK","img":"icons/svg/padlock.svg","actorIds":[],"_id":"i5A6M1M2vBxm37fF"}
{"$$deleted":true,"_id":"i5A6M1M2vBxm37fF"}
{"name":"Lockpicking","permission":{"default":0,"TKPF0VhpkrvAyBOK":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.9BF276uKtC2lXBtt"}},"scope":"global","command":"// Macro for the GM to run to set the DC and number of successes for the lock\n// Can pick from the set of published locks or create a custom one\n\nif (!token) {\n  ui.notifications.error(\"Please select a token.\")\n  return;\n}\n\nif (canvas.tokens.controlled[0].length > 1) {\n  ui.notifications.error(\"Please select only one token.\")\n  return;\n}\n\nlet locks = {\n  poor: {DC: 15, successes: 2},\n  simple: {DC: 20, successes: 3},\n  average: {DC: 25, successes: 4},\n  good: {DC: 30, successes: 5},\n  superior: {DC: 40, successes: 6}\n}\n\nlet content = \"\";\nlet content2 = \"\";\n\ncontent += `<p><label for=\"preset\">Pick a preset: </label>\n<select name=\"preset\" id=\"preset\">\n  <option value=\"custom\">Custom</option>\n  <option value=\"poor\">Poor</option>\n  <option value=\"simple\">Simple</option>\n  <option value=\"average\">Average</option>\n  <option value=\"good\">Good</option>\n  <option value=\"superior\">Superior</option>\n</select>`\n\ncontent2 += `<form id=\"pf2e-lockpicking-gm_lockset-content2\"><p><label for=\"customDC\">DC: </label>\n<input type=\"text\" id=\"customDC\" name=\"customDC\"></p>\n\n<p><label for=\"successes\">Required Successes: </label>\n<input type=\"text\" id=\"successes\" name=\"successes\"></p></form>`\n\nlet dialog = new Dialog({\n  title: \"Lockpicking\",\n  content: content,\n  buttons: {\n    pick: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: \"Select\",\n      callback: (html) => {\n          let lock = (html.find('#preset')[0].value)\n          if (lock === \"custom\") {\n              customLock.options.width = 125\n              customLock.position.width = 125\n              customLock.render(true);\n          } else {\n              game.socket.emit('module.pf2e-lockpicking', {\n                  operation: 'playerLockpick',\n                  actor,\n                  neededSuccesses: locks[lock].successes,\n                  DC: locks[lock].DC, \n                  mod: actor.data.data.skills.thi.value\n              });\n          }\n      }\n    },\n  }\n})\ndialog.options.width = 125\ndialog.position.width = 125\ndialog.render(true);\n\nlet customLock = new Dialog({\n  title: \"Custom Lock\",\n  content: content2,\n  buttons: {\n    select: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: \"Select\",\n      callback: (html) => {\n          let neededSuccesses = parseInt(html.find('#successes')[0].value)\n          let DC = parseInt(html.find('#customDC')[0].value)\n          game.socket.emit('module.pf2e-lockpicking', {\n              operation: 'playerLockpick',\n              actor,\n              neededSuccesses,\n              DC,\n              mod: actor.data.data.skills.thi.value\n          });\n      }\n    },\n  }\n})","author":"TKPF0VhpkrvAyBOK","img":"icons/svg/padlock.svg","actorIds":[],"_id":"9DYpHwbjbkwu7SGy"}
{"$$deleted":true,"_id":"9DYpHwbjbkwu7SGy"}
{"name":"Lockpicking","permission":{"default":0,"TKPF0VhpkrvAyBOK":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.9BF276uKtC2lXBtt"}},"scope":"global","command":"// Macro for the GM to run to set the DC and number of successes for the lock\n// Can pick from the set of published locks or create a custom one\n\nif (!token) {\n  ui.notifications.error(\"Please select a token.\")\n  return;\n}\n\nif (canvas.tokens.controlled.length > 1) {\n  ui.notifications.error(\"Please select only one token.\")\n  return;\n}\n\nlet locks = {\n  poor: {DC: 15, successes: 2},\n  simple: {DC: 20, successes: 3},\n  average: {DC: 25, successes: 4},\n  good: {DC: 30, successes: 5},\n  superior: {DC: 40, successes: 6}\n}\n\nlet content = \"\";\nlet content2 = \"\";\n\ncontent += `<p><label for=\"preset\">Pick a preset: </label>\n<select name=\"preset\" id=\"preset\">\n  <option value=\"custom\">Custom</option>\n  <option value=\"poor\">Poor</option>\n  <option value=\"simple\">Simple</option>\n  <option value=\"average\">Average</option>\n  <option value=\"good\">Good</option>\n  <option value=\"superior\">Superior</option>\n</select>`\n\ncontent2 += `<form id=\"pf2e-lockpicking-gm_lockset-content2\"><p><label for=\"customDC\">DC: </label>\n<input type=\"text\" id=\"customDC\" name=\"customDC\"></p>\n\n<p><label for=\"successes\">Required Successes: </label>\n<input type=\"text\" id=\"successes\" name=\"successes\"></p></form>`\n\nlet dialog = new Dialog({\n  title: \"Lockpicking\",\n  content: content,\n  buttons: {\n    pick: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: \"Select\",\n      callback: (html) => {\n          let lock = (html.find('#preset')[0].value)\n          if (lock === \"custom\") {\n              customLock.options.width = 125\n              customLock.position.width = 125\n              customLock.render(true);\n          } else {\n              game.socket.emit('module.pf2e-lockpicking', {\n                  operation: 'playerLockpick',\n                  actor,\n                  neededSuccesses: locks[lock].successes,\n                  DC: locks[lock].DC, \n                  mod: actor.data.data.skills.thi.value\n              });\n          }\n      }\n    },\n  }\n})\ndialog.options.width = 125\ndialog.position.width = 125\ndialog.render(true);\n\nlet customLock = new Dialog({\n  title: \"Custom Lock\",\n  content: content2,\n  buttons: {\n    select: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: \"Select\",\n      callback: (html) => {\n          let neededSuccesses = parseInt(html.find('#successes')[0].value)\n          let DC = parseInt(html.find('#customDC')[0].value)\n          game.socket.emit('module.pf2e-lockpicking', {\n              operation: 'playerLockpick',\n              actor,\n              neededSuccesses,\n              DC,\n              mod: actor.data.data.skills.thi.value\n          });\n      }\n    },\n  }\n})","author":"TKPF0VhpkrvAyBOK","img":"icons/svg/padlock.svg","actorIds":[],"_id":"yfhdE3DPhO2xFUjc"}
